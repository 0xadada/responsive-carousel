/*! Responsive Carousel - v0.1.0 - 2012-07-09
* https://github.com/filamentgroup/responsive-carousel
* Copyright (c) 2012 Filament Group, Inc.; Licensed MIT, GPL */
(function(a){var b="carousel",c="."+b,d="data-transition",e=b+"-transitioning",f=b+"-item",g=b+"-active",h=b+"-in",i=b+"-out",j=b+"-nav",k=function(){var a=" -webkit- -moz- -o- -ms- ".split(" "),b=!1;while(a.length)a.shift()+"transition"in document.documentElement.style!==undefined&&(b=!0);return b}(),l={_create:function(){a(this).trigger("beforecreate."+b)[b]("_init")[b]("_addNextPrev").trigger("create."+b)},_init:function(){var c=a(this).attr(d);return c||(k=!1),a(this).addClass(b+" "+(c?b+"-"+c:"")+" ").children().addClass(f).first().addClass(g)},next:function(){a(this)[b]("goTo","+1")},prev:function(){a(this)[b]("goTo","-1")},goTo:function(c){var e=a(this),j=" "+b+"-"+e.attr(d)+"-reverse";a(this).find("."+f).removeClass([i,h,j].join(" "));var l=a(this).find("."+g),m=l.prevAll().length+1,n=typeof c=="number"?c:m+parseFloat(c),o=a(this).find(".carousel-item").eq(n-1),p=typeof c=="string"&&!parseFloat(c)||n>m?"":j;o.length||(o=a(this).find("."+f)[p.length?"last":"first"]()),k?e[b]("_transitionStart",l,o,p):(o.addClass(g),e[b]("_transitionEnd",l,o,p))},update:function(){return a(this).children().not("."+j).addClass(f)},_transitionStart:function(c,d,e){var f=a(this);f.data("animation-events-bound")||(d.bind("webkitTransitionEnd transitionend webkitAnimationEnd animationend",function(){f[b]("_transitionEnd",c,d,e)}),f.data("animation-events-bound",!0)),a(this).addClass(e),c.addClass(i),d.addClass(h)},_transitionEnd:function(b,c,d){a(this).removeClass(d),b.removeClass(i+" "+g),c.removeClass(h).addClass(g)},_bindEventListeners:function(){var c=a(this).bind("click",function(d){var e=a(d.target);e.is("a")&&(c[b](e.is("[href='#next']")?"next":"prev"),d.preventDefault())});return this},_addNextPrev:function(){return a(this).append("<nav class='"+j+"'><a href='#prev' class='prev' title='Previous'>Prev</a><a href='#next' class='next' title='Next'>Next</a></nav>")[b]("_bindEventListeners")},destroy:function(){}};a.fn[b]=function(c,d,e,f){return this.each(function(){if(c&&typeof c=="string")return a.fn[b].prototype[c].call(this,d,e,f);if(a(this).data(b+"data"))return a(this);a(this).data(b+"active",!0),a.fn[b].prototype._create.call(this)})},a.extend(a.fn[b].prototype,l),a(function(){a(c)[b]()})})(jQuery),function(a){var b="carousel",c="."+b,d=b+"-no-transition",e={_dragBehavior:function(){var b,e={},f,g,h,i=function(d){var f=d.touches||d.originalEvent.touches,g=a(d.target).closest(c);return d.type==="touchstart"&&(b={x:f[0].pageX,y:f[0].pageY}),f[0]&&f[0].pageX&&(e.touches=f,e.deltaX=f[0].pageX-b.x,e.deltaY=f[0].pageY-b.y,e.w=g.width(),e.h=g.height(),e.xPercent=e.deltaX/e.w,e.yPercent=e.deltaY/e.h,e.srcEvent=d),g.trigger("drag"+d.type.split("touch")[1],e),e};a(this).bind("touchstart",function(b){a(this).addClass(d),i(b)}).bind("touchmove",function(a){var b=i(a);if(Math.abs(b.deltaX)>35&&Math.abs(b.deltaY)<35&&b.touches.length===1)return!1}).bind("touchend",function(b){a(this).removeClass(d),i(b)})}};a.extend(a.fn[b].prototype,e),a(c).live("create."+b,function(){a(this)[b]("_dragBehavior")})}(jQuery);